package com.example.brainify.Config;

import com.example.brainify.Model.Subject;
import com.example.brainify.Repository.SubjectRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.CommandLineRunner;
import org.springframework.stereotype.Component;

import java.util.Arrays;
import java.util.List;

@Component
public class DataInitializer implements CommandLineRunner {

    @Autowired
    private SubjectRepository subjectRepository;

    @Override
    public void run(String... args) throws Exception {
        // Проверяем, есть ли уже предметы в базе
        if (subjectRepository.count() > 0) {
            System.out.println("Предметы уже существуют в базе данных. Пропускаем инициализацию.");
            return;
        }

        System.out.println("Начинаем инициализацию предметов...");

        List<Subject> subjects = Arrays.asList(
            // Обязательные предметы ЕГЭ
            new Subject("Русский язык", "Грамматика, орфография, пунктуация, сочинение. Обязательный предмет ЕГЭ"),
            new Subject("Математика (базовая)", "Базовый уровень математики для ЕГЭ. Основы алгебры и геометрии"),
            new Subject("Математика (профильная)", "Профильный уровень математики для ЕГЭ. Углубленная алгебра, геометрия, начала анализа"),

            // Предметы по выбору ЕГЭ (естественно-научные)
            new Subject("Физика", "Механика, молекулярная физика, электродинамика, квантовая физика, астрономия"),
            new Subject("Химия", "Общая, неорганическая и органическая химия. Химические реакции и расчетные задачи"),
            new Subject("Биология", "Общая биология, ботаника, зоология, анатомия человека, экология, генетика"),

            // Предметы по выбору ЕГЭ (гуманитарные)
            new Subject("История", "История России с древнейших времен до наших дней. Всеобщая история"),
            new Subject("Обществознание", "Человек и общество, право, экономика, политология, социальные отношения"),
            new Subject("Литература", "Русская классическая и современная литература. Анализ произведений, сочинения"),
            new Subject("География", "Физическая и социально-экономическая география России и мира"),

            // Иностранные языки ЕГЭ
            new Subject("Английский язык", "Грамматика, лексика, аудирование, чтение, письмо, говорение"),
            new Subject("Немецкий язык", "Грамматика, лексика, аудирование, чтение, письмо, говорение"),
            new Subject("Французский язык", "Грамматика, лексика, аудирование, чтение, письмо, говорение"),
            new Subject("Испанский язык", "Грамматика, лексика, аудирование, чтение, письмо, говорение"),
            new Subject("Китайский язык", "Иероглифы, грамматика, аудирование, чтение, письмо, говорение"),

            // Информатика и ИКТ
            new Subject("Информатика и ИКТ", "Алгоритмизация, программирование, информационные технологии, компьютерные сети"),

            // Дополнительные предметы для подготовки к ОГЭ
            new Subject("Математика (ОГЭ)", "Подготовка к ОГЭ по математике. Алгебра и геометрия для 9 класса"),
            new Subject("Русский язык (ОГЭ)", "Подготовка к ОГЭ по русскому языку. Изложение, сочинение, тесты"),

            // Творческие экзамены (для специализированных вузов)
            new Subject("Рисунок", "Академический рисунок для поступления в художественные вузы"),
            new Subject("Живопись", "Академическая живопись для поступления в художественные вузы"),
            new Subject("Композиция", "Композиция в изобразительном искусстве")
        );

        subjectRepository.saveAll(subjects);
        System.out.println("Инициализация предметов завершена. Добавлено: " + subjects.size() + " предметов.");
    }
} 